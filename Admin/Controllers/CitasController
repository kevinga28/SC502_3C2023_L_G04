<?php
require 'modelo.php';

class CitaController {
    public function crearCita() {
        // Manejar la creación de una cita a partir de los datos enviados por el formulario
        if ($_SERVER['REQUEST_METHOD'] === 'POST') {
            $citaModel = new CitaModel();
            
            // Recuperar los datos del formulario
            $datosCita = [
                'nombre' => $_POST['nombre'],
                'apellido' => $_POST['apellido'],
                'correo' => $_POST['correo'],
                'tratamiento' => $_POST['tratamiento'],
                'estilista' => $_POST['estilista'],
                'fechaCita' => $_POST['fechaCita'],
                'horaCita' => $_POST['horaCita'],
                'pagoTotal' => $_POST['pagoTotal'],
            ];
            
            // Guardar la cita en el modelo
            $citaModel->guardarCita($datosCita);
            
            // Puedes redirigir a una página de confirmación o a otra ubicación
            header('Location: confirmacion.php');
            exit;
        }
        
        // Mostrar el formulario de creación de citas (vista)
        include 'vista_formulario.php';
    }
}

$citaController = new CitaController();
$citaController->crearCita();
